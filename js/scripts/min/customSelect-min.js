jQuery.fn.customSelect=function(e){var t=$.extend({selectHidden:"select-hidden",divSelect:"select-div",inputSelect:"select-input",claseIcon:"icon",claseTrigger:"iconFont-downmenu",ulOptions:"select-ul",claseActivo:"select-activo",selectActive:"select-active",onChangeSelect:!1,disabledInput:"select-disabled"},e),n,i,l,a,c,s=function(e){$(e).parent().addClass($(e).data("clase")?$(e).data("clase"):$(e).parent().parent().attr("class"))},o=function(e){i=$(e).data("inputselect")?'<input type="text" class="'+t.inputSelect+'">':'<span class="'+t.inputSelect+'"/>',$(e).after(i+'<span class="'+t.claseTrigger+'"/>'),d(e)},d=function(e){l=$(e).siblings("."+t.inputSelect),$(e).attr("disabled")&&($(e).data("inputselect")&&l.attr("disabled","disabled"),l.addClass(t.disabledInput).siblings("."+t.claseTrigger).addClass(t.disabledInput));var n=$(e).children("option").eq(0).text(),i="",a;$(e).children("option").each(function(e){$(this).attr("selected")&&(n=$(this).text(),0!==e&&(i=t.selectActive,a=!0))}),$(e).children("option").eq(0).data("icon")&&(i=i+" "+$(e).children("option").eq(0).data("icon")),$(e).data("inputselect")?(l.attr("placeholder",$(e).children("option").eq(0).text()),a&&l.val(n)):l.text(n),l.addClass(i),r(e)},r=function(e){a=$("<ul />",{"class":t.ulOptions}).insertAfter($(e).parent().find("span."+t.claseTrigger));for(var i=0;n>i;i++){var l=$(e).children("option").eq(i);$("<li />",{text:l.text(),rel:l.val(),"data-icon":l.data("icon")}).appendTo(a)}c=a.children("li"),u(e)},p=function(e){t.onChangeSelect(e)},u=function(e){$(e).parent().on("click","span."+t.claseTrigger,function(n){$(this).hasClass(t.disabledInput)||(n.stopPropagation(),$("."+t.ulOptions).hide(),$(e).siblings("."+t.inputSelect).toggleClass(t.claseActivo),$(this).next("ul."+t.ulOptions).toggle())}),g(e)},h=function(e){$(e).siblings("."+t.inputSelect).removeClass(t.claseActivo),$("."+t.ulOptions).hide()},g=function(e){$(e).change().parent().on("click","ul li",function(n){v(e),n.stopPropagation(),l=$(e).siblings("."+t.inputSelect);var i=$(this);$(e).data("inputselect")?l.val(i.text()):l.text(i.text()),l.removeClass(t.claseActivo).addClass(t.selectActive),$(e).val(i.attr("rel"));for(var a=0,c=$(e).children("option");a<c.length;a++)c.eq(a).val()===i.attr("rel")&&(c.eq(a).attr("selected","selected"),0===a&&(l.val(""),l.removeClass(t.selectActive)));$(e).siblings("ul").hide(),$(e).trigger("change")}),$(e).on("change",function(n){n.stopPropagation(),t.onChangeSelect&&p(e)}),$(document).click(function(){h(e)})},v=function(e){$(e).children("option").each(function(){$(this).removeAttr("selected")})},f=function(e){n=$(e).children("option").length,$(e).addClass(t.selectHidden),$(e).wrap('<div class="'+t.divSelect+'"/>'),s(e),o(e)};return this.each(function(){f(this)})};