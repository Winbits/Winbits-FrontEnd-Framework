jQuery.fn.chooseDate=function(t){var e=$.extend({fromDate:".fromDate",fromDateDiv:".divFrom",toDate:".toDate",toDateDiv:".divTo",toText:".toSpan",refreshBtn:".iconFont-close",datepickerWrapper:".datepicker-wrapper",hasDatepicker:".hasDatepicker",defaultDate:"+1w",minDate:0},t),i=function(t,i,a,o,n){$(t).find(i).datePicker({option:{defaultDate:e.defaultDate,minDate:e.minDate,showOn:"both",onSelect:function(t){n&&($(e.toText).slideDown(),$(n).slideDown()),$(a).datepicker("option",o,t)}}})},a=function(t){$(t).click(function(){$(e.fromDate).focus(),$(t).unbind("click")})},o=function(t){i(t,e.fromDate,e.toDate,"minDate",e.toDateDiv),$(t).find(e.fromDateDiv).find(e.refreshBtn).click(function(a){a.preventDefault(),$(t).find(e.toDateDiv).slideUp(),$(t).find(e.toText).slideUp(),$(t).find(e.toDateDiv).find(e.hasDatepicker).val(""),$(t).find(e.fromDate).datepicker("destroy"),i(t,e.fromDate,e.toDate,"minDate",e.toDateDiv),$(t).find(e.fromDateDiv).find(e.hasDatepicker).val("").focus()}).toolTip()},n=function(t){i(t,e.toDate,e.fromDate,"maxDate"),$(t).find(e.toDateDiv).find(e.refreshBtn).click(function(i){i.preventDefault(),$(t).find(e.toDateDiv).find(e.hasDatepicker).val("")}).toolTip()},D=function(t){$(t).find(e.toText+", "+e.toDateDiv).hide()};return this.each(function(){a(this),o(this),n(this),D(this)})};