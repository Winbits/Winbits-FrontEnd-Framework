jQuery.fn.customCheckbox=function(e){var s=$.extend({checkbox:'input[type="checkbox"]',selectClass:"checkbox-checked",unSelectClass:"checkbox-unchecked",wrapper:"checkbox-wrapper",spanIcon:"checkbox-span",onClickCall:!1,onFinishWrapping:!1,classColor:"checkbox-color",tooltipClass:"tooltip",checkAll:!1,checkAllClass:"checkbox-checkall"},e),c,a=function(e){$(e).find(s.checkbox).each(function(){var e=this;l(e),$(e).parents("."+s.wrapper).length||($(e).next().is("label")?($(e).next().andSelf().wrapAll('<div class="'+s.wrapper+'"/>'),$(e).next().click(function(e){e.preventDefault()}),$(e).appendTo($(this).next())):$(e).wrap('<div class="'+s.wrapper+'"/>'),$(e).parents("."+s.wrapper).prepend('<span class="'+s.spanIcon+" "+c+'"/>')),$(e).parents("."+s.wrapper).click(function(){p(e,$(e).parents("."+s.wrapper).children("."+s.spanIcon))}),$(e).data("color")&&o($(e)),s.onFinishWrapping&&s.onFinishWrapping(e)})},l=function(e){c=$(e).prop("checked")?s.selectClass:s.unSelectClass},n=function(e,c,a,l){if(s.checkAll){var n=$(e).parents("."+s.wrapper).siblings();$(e).hasClass(s.checkAllClass)?n.find(s.checkbox).prop("checked",c).parents("."+s.wrapper).find("."+s.spanIcon).removeClass(l).addClass(a):c===!1&&n.find("."+s.checkAllClass).prop("checked")&&n.find("."+s.checkAllClass).prop("checked",!1).parents("."+s.wrapper).find("."+s.spanIcon).removeClass(l).addClass(a)}},p=function(e,c){$(e).prop("checked")?($(c).removeClass(s.selectClass).addClass(s.unSelectClass),$(e).prop("checked",!1),n(e,!1,s.unSelectClass,s.selectClass)):($(c).removeClass(s.unSelectClass).addClass(s.selectClass),$(e).prop("checked",!0),n(e,!0,s.selectClass,s.unSelectClass)),s.onClickCall&&s.onClickCall(e)},o=function(e){$(e).siblings("."+s.spanIcon).addClass(s.classColor).css("background-color","#"+$(e).data("color")).attr("data-tooltip",$(e).val()),$(e).siblings("."+s.spanIcon).toolTip({clase:s.tooltipClass})};return this.each(function(){a(this)})};